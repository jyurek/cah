       <html>
       <head>
         <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
         <title>ArgumentError at &#x2F;games&#x2F;aaaaa&#x2F;player</title>

         <script type="text/javascript">
         //<!--
         function toggle(id) {
           var pre  = document.getElementById("pre-" + id);
           var post = document.getElementById("post-" + id);
           var context = document.getElementById("context-" + id);

           if (pre.style.display == 'block') {
             pre.style.display = 'none';
             post.style.display = 'none';
             context.style.background = "none";
           } else {
             pre.style.display = 'block';
             post.style.display = 'block';
             context.style.background = "#fffed9";
           }
         }

         function toggleBacktrace(){
           var bt = document.getElementById("backtrace");
           var toggler = document.getElementById("expando");

           if (bt.className == 'condensed') {
             bt.className = 'expanded';
             toggler.innerHTML = "(condense)";
           } else {
             bt.className = 'condensed';
             toggler.innerHTML = "(expand)";
           }
         }
         //-->
         </script>

       <style type="text/css" media="screen">
         *                   {margin: 0; padding: 0; border: 0; outline: 0;}
         div.clear           {clear: both;}
         body                {background: #EEEEEE; margin: 0; padding: 0;
                              font-family: 'Lucida Grande', 'Lucida Sans Unicode',
                              'Garuda';}
         code                {font-family: 'Lucida Console', monospace;
                              font-size: 12px;}
         li                  {height: 18px;}
         ul                  {list-style: none; margin: 0; padding: 0;}
         ol:hover            {cursor: pointer;}
         ol li               {white-space: pre;}
         #explanation        {font-size: 12px; color: #666666;
                              margin: 20px 0 0 100px;}
       /* WRAP */
         #wrap               {width: 1000px; background: #FFFFFF; margin: 0 auto;
                              padding: 30px 50px 20px 50px;
                              border-left: 1px solid #DDDDDD;
                              border-right: 1px solid #DDDDDD;}
       /* HEADER */
         #header             {margin: 0 auto 25px auto;}
         #header img         {float: left;}
         #header #summary    {float: left; margin: 12px 0 0 20px; width:660px;
                              font-family: 'Lucida Grande', 'Lucida Sans Unicode';}
         h1                  {margin: 0; font-size: 36px; color: #981919;}
         h2                  {margin: 0; font-size: 22px; color: #333333;}
         #header ul          {margin: 0; font-size: 12px; color: #666666;}
         #header ul li strong{color: #444444;}
         #header ul li       {display: inline; padding: 0 10px;}
         #header ul li.first {padding-left: 0;}
         #header ul li.last  {border: 0; padding-right: 0;}
       /* BODY */
         #backtrace,
         #get,
         #post,
         #cookies,
         #rack               {width: 980px; margin: 0 auto 10px auto;}
         p#nav               {float: right; font-size: 14px;}
       /* BACKTRACE */
         a#expando           {float: left; padding-left: 5px; color: #666666;
                             font-size: 14px; text-decoration: none; cursor: pointer;}
         a#expando:hover     {text-decoration: underline;}
         h3                  {float: left; width: 100px; margin-bottom: 10px;
                              color: #981919; font-size: 14px; font-weight: bold;}
         #nav a              {color: #666666; text-decoration: none; padding: 0 5px;}
         #backtrace li.frame-info {background: #f7f7f7; padding-left: 10px;
                                  font-size: 12px; color: #333333;}
         #backtrace ul       {list-style-position: outside; border: 1px solid #E9E9E9;
                              border-bottom: 0;}
         #backtrace ol       {width: 920px; margin-left: 50px;
                              font: 10px 'Lucida Console', monospace; color: #666666;}
         #backtrace ol li    {border: 0; border-left: 1px solid #E9E9E9;
                              padding: 2px 0;}
         #backtrace ol code  {font-size: 10px; color: #555555; padding-left: 5px;}
         #backtrace-ul li    {border-bottom: 1px solid #E9E9E9; height: auto;
                              padding: 3px 0;}
         #backtrace-ul .code {padding: 6px 0 4px 0;}
         #backtrace.condensed .system,
         #backtrace.condensed .framework {display:none;}
       /* REQUEST DATA */
         p.no-data           {padding-top: 2px; font-size: 12px; color: #666666;}
         table.req           {width: 980px; text-align: left; font-size: 12px;
                              color: #666666; padding: 0; border-spacing: 0;
                              border: 1px solid #EEEEEE; border-bottom: 0;
                              border-left: 0;
                              clear:both}
         table.req tr th     {padding: 2px 10px; font-weight: bold;
                              background: #F7F7F7; border-bottom: 1px solid #EEEEEE;
                              border-left: 1px solid #EEEEEE;}
         table.req tr td     {padding: 2px 20px 2px 10px;
                              border-bottom: 1px solid #EEEEEE;
                              border-left: 1px solid #EEEEEE;}
       /* HIDE PRE/POST CODE AT START */
         .pre-context,
         .post-context       {display: none;}

         table td.code       {width:750px}
         table td.code div   {width:750px;overflow:hidden}
       </style>
       </head>
       <body>
         <div id="wrap">
           <div id="header">
             <img src="/__sinatra__/500.png" alt="application error" height="161" width="313" />
             <div id="summary">
               <h1><strong>ArgumentError</strong> at <strong>&#x2F;games&#x2F;aaaaa&#x2F;player
                 </strong></h1>
               <h2>wrong number of arguments (3 for 2)</h2>
               <ul>
                 <li class="first"><strong>file:</strong> <code>
                   fake_pusher.rb</code></li>
                 <li><strong>location:</strong> <code>trigger
                   </code></li>
                 <li class="last"><strong>line:
                   </strong> 6</li>
               </ul>
             </div>
             <div class="clear"></div>
           </div>

           <div id="backtrace" class='condensed'>
             <h3>BACKTRACE</h3>
             <p><a href="#" id="expando"
                   onclick="toggleBacktrace(); return false">(expand)</a></p>
             <p id="nav"><strong>JUMP TO:</strong>
                <a href="#get-info">GET</a>
                <a href="#post-info">POST</a>
                <a href="#cookie-info">COOKIES</a>
                <a href="#env-info">ENV</a>
             </p>
             <div class="clear"></div>

             <ul id="backtrace-ul">





                   <li class="frame-info app">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;Development&#x2F;cah&#x2F;spec&#x2F;helpers&#x2F;fake_pusher.rb</code> in
                       <code><strong>trigger</strong></code>
                   </li>

                   <li class="code app">

                     <ol start="1"
                         class="pre-context" id="pre-1"
                         onclick="toggle(1);">

                       <li class="pre-context-line"><code>class FakePusher
       </code></li>

                       <li class="pre-context-line"><code>  def initialize
       </code></li>

                       <li class="pre-context-line"><code>    @events = []
       </code></li>

                       <li class="pre-context-line"><code>  end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                     </ol>


                     <ol start="6" class="context" id="1"
                         onclick="toggle(1);">
                       <li class="context-line" id="context-1"><code>  def trigger(event, data= nil)</code></li>
                     </ol>


                     <ol start="7" class="post-context"
                         id="post-1" onclick="toggle(1);">

                       <li class="post-context-line"><code>    @events &lt;&lt; [event, data]
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>  def events
       </code></li>

                       <li class="post-context-line"><code>    @events
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info app">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;Development&#x2F;cah&#x2F;cah_game.rb</code> in
                       <code><strong>block in &lt;class:CahGame&gt;</strong></code>
                   </li>

                   <li class="code app">

                     <ol start="36"
                         class="pre-context" id="pre-2"
                         onclick="toggle(2);">

                       <li class="pre-context-line"><code>  end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>  post &#x27;&#x2F;games&#x2F;:code&#x2F;player&#x27; do |code|
       </code></li>

                       <li class="pre-context-line"><code>    game = Game.find(code)
       </code></li>

                       <li class="pre-context-line"><code>    player = game.add_player(current_player)
       </code></li>

                       <li class="pre-context-line"><code>    game.deal_hand_to(player)
       </code></li>

                       <li class="pre-context-line"><code>    game.save
       </code></li>

                     </ol>


                     <ol start="43" class="context" id="2"
                         onclick="toggle(2);">
                       <li class="context-line" id="context-2"><code>    pusher.trigger(game.code.to_s, &quot;cah:new_player&quot;, player.to_json)</code></li>
                     </ol>


                     <ol start="44" class="post-context"
                         id="post-2" onclick="toggle(2);">

                       <li class="post-context-line"><code>    game.to_json
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>  get &#x27;&#x2F;games&#x2F;:code&#x2F;player&#x27; do |code|
       </code></li>

                       <li class="post-context-line"><code>    player = Player.find(current_player_id)
       </code></li>

                       <li class="post-context-line"><code>    player.to_json
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="1257"
                         class="pre-context" id="pre-3"
                         onclick="toggle(3);">

                       <li class="pre-context-line"><code>        options.each_pair { |option, args| send(option, *args) }
       </code></li>

                       <li class="pre-context-line"><code>        method_name             = &quot;#{verb} #{path}&quot;
       </code></li>

                       <li class="pre-context-line"><code>        unbound_method          = generate_method(method_name, &amp;block)
       </code></li>

                       <li class="pre-context-line"><code>        pattern, keys           = compile path
       </code></li>

                       <li class="pre-context-line"><code>        conditions, @conditions = @conditions, []
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        [ pattern, keys, conditions, block.arity != 0 ?
       </code></li>

                     </ol>


                     <ol start="1264" class="context" id="3"
                         onclick="toggle(3);">
                       <li class="context-line" id="context-3"><code>            proc { |a,p| unbound_method.bind(a).call(*p) } :</code></li>
                     </ol>


                     <ol start="1265" class="post-context"
                         id="post-3" onclick="toggle(3);">

                       <li class="post-context-line"><code>            proc { |a,p| unbound_method.bind(a).call } ]
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def compile(path)
       </code></li>

                       <li class="post-context-line"><code>        keys = []
       </code></li>

                       <li class="post-context-line"><code>        if path.respond_to? :to_str
       </code></li>

                       <li class="post-context-line"><code>          pattern = path.to_str.gsub(&#x2F;[^\?\%\\\&#x2F;\:\*\w]&#x2F;) { |c| encoded(c) }
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block in compile!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="1257"
                         class="pre-context" id="pre-4"
                         onclick="toggle(4);">

                       <li class="pre-context-line"><code>        options.each_pair { |option, args| send(option, *args) }
       </code></li>

                       <li class="pre-context-line"><code>        method_name             = &quot;#{verb} #{path}&quot;
       </code></li>

                       <li class="pre-context-line"><code>        unbound_method          = generate_method(method_name, &amp;block)
       </code></li>

                       <li class="pre-context-line"><code>        pattern, keys           = compile path
       </code></li>

                       <li class="pre-context-line"><code>        conditions, @conditions = @conditions, []
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        [ pattern, keys, conditions, block.arity != 0 ?
       </code></li>

                     </ol>


                     <ol start="1264" class="context" id="4"
                         onclick="toggle(4);">
                       <li class="context-line" id="context-4"><code>            proc { |a,p| unbound_method.bind(a).call(*p) } :</code></li>
                     </ol>


                     <ol start="1265" class="post-context"
                         id="post-4" onclick="toggle(4);">

                       <li class="post-context-line"><code>            proc { |a,p| unbound_method.bind(a).call } ]
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def compile(path)
       </code></li>

                       <li class="post-context-line"><code>        keys = []
       </code></li>

                       <li class="post-context-line"><code>        if path.respond_to? :to_str
       </code></li>

                       <li class="post-context-line"><code>          pattern = path.to_str.gsub(&#x2F;[^\?\%\\\&#x2F;\:\*\w]&#x2F;) { |c| encoded(c) }
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>[]</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="828"
                         class="pre-context" id="pre-5"
                         onclick="toggle(5);">

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                       <li class="pre-context-line"><code>        routes.each do |pattern, keys, conditions, block|
       </code></li>

                       <li class="pre-context-line"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|
       </code></li>

                     </ol>


                     <ol start="835" class="context" id="5"
                         onclick="toggle(5);">
                       <li class="context-line" id="context-5"><code>            route_eval { block[*args] }</code></li>
                     </ol>


                     <ol start="836" class="post-context"
                         id="post-5" onclick="toggle(5);">

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                       <li class="post-context-line"><code>      if base.superclass.respond_to?(:routes)
       </code></li>

                       <li class="post-context-line"><code>        return route!(base.superclass, pass_block)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block (3 levels) in route!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="828"
                         class="pre-context" id="pre-6"
                         onclick="toggle(6);">

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                       <li class="pre-context-line"><code>        routes.each do |pattern, keys, conditions, block|
       </code></li>

                       <li class="pre-context-line"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|
       </code></li>

                     </ol>


                     <ol start="835" class="context" id="6"
                         onclick="toggle(6);">
                       <li class="context-line" id="context-6"><code>            route_eval { block[*args] }</code></li>
                     </ol>


                     <ol start="836" class="post-context"
                         id="post-6" onclick="toggle(6);">

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                       <li class="post-context-line"><code>      if base.superclass.respond_to?(:routes)
       </code></li>

                       <li class="post-context-line"><code>        return route!(base.superclass, pass_block)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>route_eval</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="844"
                         class="pre-context" id="pre-7"
                         onclick="toggle(7);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      route_eval(&amp;pass_block) if pass_block
       </code></li>

                       <li class="pre-context-line"><code>      route_missing
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run a route block and throw :halt with the result.
       </code></li>

                       <li class="pre-context-line"><code>    def route_eval
       </code></li>

                     </ol>


                     <ol start="851" class="context" id="7"
                         onclick="toggle(7);">
                       <li class="context-line" id="context-7"><code>      throw :halt, yield</code></li>
                     </ol>


                     <ol start="852" class="post-context"
                         id="post-7" onclick="toggle(7);">

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    # If the current request matches pattern and conditions, fill params
       </code></li>

                       <li class="post-context-line"><code>    # with keys and call the given block.
       </code></li>

                       <li class="post-context-line"><code>    # Revert params afterwards.
       </code></li>

                       <li class="post-context-line"><code>    #
       </code></li>

                       <li class="post-context-line"><code>    # Returns pass block.
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block (2 levels) in route!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="828"
                         class="pre-context" id="pre-8"
                         onclick="toggle(8);">

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                       <li class="pre-context-line"><code>        routes.each do |pattern, keys, conditions, block|
       </code></li>

                       <li class="pre-context-line"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|
       </code></li>

                     </ol>


                     <ol start="835" class="context" id="8"
                         onclick="toggle(8);">
                       <li class="context-line" id="context-8"><code>            route_eval { block[*args] }</code></li>
                     </ol>


                     <ol start="836" class="post-context"
                         id="post-8" onclick="toggle(8);">

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                       <li class="post-context-line"><code>      if base.superclass.respond_to?(:routes)
       </code></li>

                       <li class="post-context-line"><code>        return route!(base.superclass, pass_block)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block in process_route</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="865"
                         class="pre-context" id="pre-9"
                         onclick="toggle(9);">

                       <li class="pre-context-line"><code>      if values.any?
       </code></li>

                       <li class="pre-context-line"><code>        original, @params = params, params.merge(&#x27;splat&#x27; =&gt; [], &#x27;captures&#x27; =&gt; values)
       </code></li>

                       <li class="pre-context-line"><code>        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &lt;&lt; v : @params[k] = v if v }
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      catch(:pass) do
       </code></li>

                       <li class="pre-context-line"><code>        conditions.each { |c| throw :pass if c.bind(self).call == false }
       </code></li>

                     </ol>


                     <ol start="872" class="context" id="9"
                         onclick="toggle(9);">
                       <li class="context-line" id="context-9"><code>        block ? block[self, values] : yield(self, values)</code></li>
                     </ol>


                     <ol start="873" class="post-context"
                         id="post-9" onclick="toggle(9);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    ensure
       </code></li>

                       <li class="post-context-line"><code>      @params = original if original
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    # No matching route was found or all routes passed. The default
       </code></li>

                       <li class="post-context-line"><code>    # implementation is to forward the request downstream when running
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>catch</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="863"
                         class="pre-context" id="pre-10"
                         onclick="toggle(10);">

                       <li class="pre-context-line"><code>      values += match.captures.to_a.map { |v| force_encoding URI.decode(v) if v }
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      if values.any?
       </code></li>

                       <li class="pre-context-line"><code>        original, @params = params, params.merge(&#x27;splat&#x27; =&gt; [], &#x27;captures&#x27; =&gt; values)
       </code></li>

                       <li class="pre-context-line"><code>        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &lt;&lt; v : @params[k] = v if v }
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                     </ol>


                     <ol start="870" class="context" id="10"
                         onclick="toggle(10);">
                       <li class="context-line" id="context-10"><code>      catch(:pass) do</code></li>
                     </ol>


                     <ol start="871" class="post-context"
                         id="post-10" onclick="toggle(10);">

                       <li class="post-context-line"><code>        conditions.each { |c| throw :pass if c.bind(self).call == false }
       </code></li>

                       <li class="post-context-line"><code>        block ? block[self, values] : yield(self, values)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    ensure
       </code></li>

                       <li class="post-context-line"><code>      @params = original if original
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>process_route</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="863"
                         class="pre-context" id="pre-11"
                         onclick="toggle(11);">

                       <li class="pre-context-line"><code>      values += match.captures.to_a.map { |v| force_encoding URI.decode(v) if v }
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      if values.any?
       </code></li>

                       <li class="pre-context-line"><code>        original, @params = params, params.merge(&#x27;splat&#x27; =&gt; [], &#x27;captures&#x27; =&gt; values)
       </code></li>

                       <li class="pre-context-line"><code>        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &lt;&lt; v : @params[k] = v if v }
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                     </ol>


                     <ol start="870" class="context" id="11"
                         onclick="toggle(11);">
                       <li class="context-line" id="context-11"><code>      catch(:pass) do</code></li>
                     </ol>


                     <ol start="871" class="post-context"
                         id="post-11" onclick="toggle(11);">

                       <li class="post-context-line"><code>        conditions.each { |c| throw :pass if c.bind(self).call == false }
       </code></li>

                       <li class="post-context-line"><code>        block ? block[self, values] : yield(self, values)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    ensure
       </code></li>

                       <li class="post-context-line"><code>      @params = original if original
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block in route!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="827"
                         class="pre-context" id="pre-12"
                         onclick="toggle(12);">

                       <li class="pre-context-line"><code>      base.filters[type].each { |args| process_route(*args) }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                       <li class="pre-context-line"><code>        routes.each do |pattern, keys, conditions, block|
       </code></li>

                     </ol>


                     <ol start="834" class="context" id="12"
                         onclick="toggle(12);">
                       <li class="context-line" id="context-12"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|</code></li>
                     </ol>


                     <ol start="835" class="post-context"
                         id="post-12" onclick="toggle(12);">

                       <li class="post-context-line"><code>            route_eval { block[*args] }
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                       <li class="post-context-line"><code>      if base.superclass.respond_to?(:routes)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>each</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="826"
                         class="pre-context" id="pre-13"
                         onclick="toggle(13);">

                       <li class="pre-context-line"><code>      filter! type, base.superclass if base.superclass.respond_to?(:filters)
       </code></li>

                       <li class="pre-context-line"><code>      base.filters[type].each { |args| process_route(*args) }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                     </ol>


                     <ol start="833" class="context" id="13"
                         onclick="toggle(13);">
                       <li class="context-line" id="context-13"><code>        routes.each do |pattern, keys, conditions, block|</code></li>
                     </ol>


                     <ol start="834" class="post-context"
                         id="post-13" onclick="toggle(13);">

                       <li class="post-context-line"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|
       </code></li>

                       <li class="post-context-line"><code>            route_eval { block[*args] }
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>route!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="826"
                         class="pre-context" id="pre-14"
                         onclick="toggle(14);">

                       <li class="pre-context-line"><code>      filter! type, base.superclass if base.superclass.respond_to?(:filters)
       </code></li>

                       <li class="pre-context-line"><code>      base.filters[type].each { |args| process_route(*args) }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run routes defined on the class and all superclasses.
       </code></li>

                       <li class="pre-context-line"><code>    def route!(base = settings, pass_block=nil)
       </code></li>

                       <li class="pre-context-line"><code>      if routes = base.routes[@request.request_method]
       </code></li>

                     </ol>


                     <ol start="833" class="context" id="14"
                         onclick="toggle(14);">
                       <li class="context-line" id="context-14"><code>        routes.each do |pattern, keys, conditions, block|</code></li>
                     </ol>


                     <ol start="834" class="post-context"
                         id="post-14" onclick="toggle(14);">

                       <li class="post-context-line"><code>          pass_block = process_route(pattern, keys, conditions) do |*args|
       </code></li>

                       <li class="post-context-line"><code>            route_eval { block[*args] }
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Run routes defined in superclass.
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>dispatch!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="929"
                         class="pre-context" id="pre-15"
                         onclick="toggle(15);">

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Dispatch a request with error handling.
       </code></li>

                       <li class="pre-context-line"><code>    def dispatch!
       </code></li>

                       <li class="pre-context-line"><code>      static! if settings.static? &amp;&amp; (request.get? || request.head?)
       </code></li>

                       <li class="pre-context-line"><code>      filter! :before
       </code></li>

                     </ol>


                     <ol start="936" class="context" id="15"
                         onclick="toggle(15);">
                       <li class="context-line" id="context-15"><code>      route!</code></li>
                     </ol>


                     <ol start="937" class="post-context"
                         id="post-15" onclick="toggle(15);">

                       <li class="post-context-line"><code>    rescue ::Exception =&gt; boom
       </code></li>

                       <li class="post-context-line"><code>      handle_exception!(boom)
       </code></li>

                       <li class="post-context-line"><code>    ensure
       </code></li>

                       <li class="post-context-line"><code>      filter! :after unless env[&#x27;sinatra.static_file&#x27;]
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    # Error handling during requests.
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block in call!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="762"
                         class="pre-context" id="pre-16"
                         onclick="toggle(16);">

                       <li class="pre-context-line"><code>      @request  = Request.new(env)
       </code></li>

                       <li class="pre-context-line"><code>      @response = Response.new
       </code></li>

                       <li class="pre-context-line"><code>      @params   = indifferent_params(@request.params)
       </code></li>

                       <li class="pre-context-line"><code>      template_cache.clear if settings.reload_templates
       </code></li>

                       <li class="pre-context-line"><code>      force_encoding(@params)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      @response[&#x27;Content-Type&#x27;] = nil
       </code></li>

                     </ol>


                     <ol start="769" class="context" id="16"
                         onclick="toggle(16);">
                       <li class="context-line" id="context-16"><code>      invoke { dispatch! }</code></li>
                     </ol>


                     <ol start="770" class="post-context"
                         id="post-16" onclick="toggle(16);">

                       <li class="post-context-line"><code>      invoke { error_block!(response.status) }
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      unless @response[&#x27;Content-Type&#x27;]
       </code></li>

                       <li class="post-context-line"><code>        if Array === body and body[0].respond_to? :content_type
       </code></li>

                       <li class="post-context-line"><code>          content_type body[0].content_type
       </code></li>

                       <li class="post-context-line"><code>        else
       </code></li>

                       <li class="post-context-line"><code>          content_type :html
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>block in invoke</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="914"
                         class="pre-context" id="pre-17"
                         onclick="toggle(17);">

                       <li class="pre-context-line"><code>    # Creates a Hash with indifferent access.
       </code></li>

                       <li class="pre-context-line"><code>    def indifferent_hash
       </code></li>

                       <li class="pre-context-line"><code>      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run the block with &#x27;throw :halt&#x27; support and apply result to the response.
       </code></li>

                       <li class="pre-context-line"><code>    def invoke
       </code></li>

                     </ol>


                     <ol start="921" class="context" id="17"
                         onclick="toggle(17);">
                       <li class="context-line" id="context-17"><code>      res = catch(:halt) { yield }</code></li>
                     </ol>


                     <ol start="922" class="post-context"
                         id="post-17" onclick="toggle(17);">

                       <li class="post-context-line"><code>      res = [res] if Fixnum === res or String === res
       </code></li>

                       <li class="post-context-line"><code>      if Array === res and Fixnum === res.first
       </code></li>

                       <li class="post-context-line"><code>        status(res.shift)
       </code></li>

                       <li class="post-context-line"><code>        body(res.pop)
       </code></li>

                       <li class="post-context-line"><code>        headers(*res)
       </code></li>

                       <li class="post-context-line"><code>      elsif res.respond_to? :each
       </code></li>

                       <li class="post-context-line"><code>        body res
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>catch</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="914"
                         class="pre-context" id="pre-18"
                         onclick="toggle(18);">

                       <li class="pre-context-line"><code>    # Creates a Hash with indifferent access.
       </code></li>

                       <li class="pre-context-line"><code>    def indifferent_hash
       </code></li>

                       <li class="pre-context-line"><code>      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run the block with &#x27;throw :halt&#x27; support and apply result to the response.
       </code></li>

                       <li class="pre-context-line"><code>    def invoke
       </code></li>

                     </ol>


                     <ol start="921" class="context" id="18"
                         onclick="toggle(18);">
                       <li class="context-line" id="context-18"><code>      res = catch(:halt) { yield }</code></li>
                     </ol>


                     <ol start="922" class="post-context"
                         id="post-18" onclick="toggle(18);">

                       <li class="post-context-line"><code>      res = [res] if Fixnum === res or String === res
       </code></li>

                       <li class="post-context-line"><code>      if Array === res and Fixnum === res.first
       </code></li>

                       <li class="post-context-line"><code>        status(res.shift)
       </code></li>

                       <li class="post-context-line"><code>        body(res.pop)
       </code></li>

                       <li class="post-context-line"><code>        headers(*res)
       </code></li>

                       <li class="post-context-line"><code>      elsif res.respond_to? :each
       </code></li>

                       <li class="post-context-line"><code>        body res
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>invoke</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="914"
                         class="pre-context" id="pre-19"
                         onclick="toggle(19);">

                       <li class="pre-context-line"><code>    # Creates a Hash with indifferent access.
       </code></li>

                       <li class="pre-context-line"><code>    def indifferent_hash
       </code></li>

                       <li class="pre-context-line"><code>      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Run the block with &#x27;throw :halt&#x27; support and apply result to the response.
       </code></li>

                       <li class="pre-context-line"><code>    def invoke
       </code></li>

                     </ol>


                     <ol start="921" class="context" id="19"
                         onclick="toggle(19);">
                       <li class="context-line" id="context-19"><code>      res = catch(:halt) { yield }</code></li>
                     </ol>


                     <ol start="922" class="post-context"
                         id="post-19" onclick="toggle(19);">

                       <li class="post-context-line"><code>      res = [res] if Fixnum === res or String === res
       </code></li>

                       <li class="post-context-line"><code>      if Array === res and Fixnum === res.first
       </code></li>

                       <li class="post-context-line"><code>        status(res.shift)
       </code></li>

                       <li class="post-context-line"><code>        body(res.pop)
       </code></li>

                       <li class="post-context-line"><code>        headers(*res)
       </code></li>

                       <li class="post-context-line"><code>      elsif res.respond_to? :each
       </code></li>

                       <li class="post-context-line"><code>        body res
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>call!</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="762"
                         class="pre-context" id="pre-20"
                         onclick="toggle(20);">

                       <li class="pre-context-line"><code>      @request  = Request.new(env)
       </code></li>

                       <li class="pre-context-line"><code>      @response = Response.new
       </code></li>

                       <li class="pre-context-line"><code>      @params   = indifferent_params(@request.params)
       </code></li>

                       <li class="pre-context-line"><code>      template_cache.clear if settings.reload_templates
       </code></li>

                       <li class="pre-context-line"><code>      force_encoding(@params)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      @response[&#x27;Content-Type&#x27;] = nil
       </code></li>

                     </ol>


                     <ol start="769" class="context" id="20"
                         onclick="toggle(20);">
                       <li class="context-line" id="context-20"><code>      invoke { dispatch! }</code></li>
                     </ol>


                     <ol start="770" class="post-context"
                         id="post-20" onclick="toggle(20);">

                       <li class="post-context-line"><code>      invoke { error_block!(response.status) }
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      unless @response[&#x27;Content-Type&#x27;]
       </code></li>

                       <li class="post-context-line"><code>        if Array === body and body[0].respond_to? :content_type
       </code></li>

                       <li class="post-context-line"><code>          content_type body[0].content_type
       </code></li>

                       <li class="post-context-line"><code>        else
       </code></li>

                       <li class="post-context-line"><code>          content_type :html
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="748"
                         class="pre-context" id="pre-21"
                         onclick="toggle(21);">

                       <li class="pre-context-line"><code>      @app = app
       </code></li>

                       <li class="pre-context-line"><code>      @template_cache = Tilt::Cache.new
       </code></li>

                       <li class="pre-context-line"><code>      yield self if block_given?
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    # Rack call interface.
       </code></li>

                       <li class="pre-context-line"><code>    def call(env)
       </code></li>

                     </ol>


                     <ol start="755" class="context" id="21"
                         onclick="toggle(21);">
                       <li class="context-line" id="context-21"><code>      dup.call!(env)</code></li>
                     </ol>


                     <ol start="756" class="post-context"
                         id="post-21" onclick="toggle(21);">

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    attr_accessor :env, :request, :response, :params
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    def call!(env) # :nodoc:
       </code></li>

                       <li class="post-context-line"><code>      @env      = env
       </code></li>

                       <li class="post-context-line"><code>      @request  = Request.new(env)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;xss_header.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="20"
                         class="pre-context" id="pre-22"
                         onclick="toggle(22);">

                       <li class="pre-context-line"><code>          &#x27;X-Content-Type-Options&#x27; =&gt; &quot;nosniff&quot;
       </code></li>

                       <li class="pre-context-line"><code>        }
       </code></li>

                       <li class="pre-context-line"><code>        headers.delete(&quot;X-Content-Type-Options&quot;) unless options[:nosniff]
       </code></li>

                       <li class="pre-context-line"><code>        headers
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                     </ol>


                     <ol start="27" class="context" id="22"
                         onclick="toggle(22);">
                       <li class="context-line" id="context-22"><code>        status, headers, body = @app.call(env)</code></li>
                     </ol>


                     <ol start="28" class="post-context"
                         id="post-22" onclick="toggle(22);">

                       <li class="post-context-line"><code>        headers = header.merge(headers) if options[:nosniff] and html?(headers)
       </code></li>

                       <li class="post-context-line"><code>        [status, headers, body]
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;path_traversal.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="9"
                         class="pre-context" id="pre-23"
                         onclick="toggle(23);">

                       <li class="pre-context-line"><code>    #
       </code></li>

                       <li class="pre-context-line"><code>    # Unescapes &#x27;&#x2F;&#x27; and &#x27;.&#x27;, expands +path_info+.
       </code></li>

                       <li class="pre-context-line"><code>    # Thus &lt;tt&gt;GET &#x2F;foo&#x2F;%2e%2e%2fbar&lt;&#x2F;tt&gt; becomes &lt;tt&gt;GET &#x2F;bar&lt;&#x2F;tt&gt;.
       </code></li>

                       <li class="pre-context-line"><code>    class PathTraversal &lt; Base
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                       <li class="pre-context-line"><code>        path_was         = env[&quot;PATH_INFO&quot;]
       </code></li>

                       <li class="pre-context-line"><code>        env[&quot;PATH_INFO&quot;] = cleanup path_was if path_was &amp;&amp; !path_was.empty?
       </code></li>

                     </ol>


                     <ol start="16" class="context" id="23"
                         onclick="toggle(23);">
                       <li class="context-line" id="context-23"><code>        app.call env</code></li>
                     </ol>


                     <ol start="17" class="post-context"
                         id="post-23" onclick="toggle(23);">

                       <li class="post-context-line"><code>      ensure
       </code></li>

                       <li class="post-context-line"><code>        env[&quot;PATH_INFO&quot;] = path_was
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def cleanup(path)
       </code></li>

                       <li class="post-context-line"><code>        parts     = []
       </code></li>

                       <li class="post-context-line"><code>        unescaped = path.gsub(&#x27;%2e&#x27;, &#x27;.&#x27;).gsub(&#x27;%2f&#x27;, &#x27;&#x2F;&#x27;)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;json_csrf.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="10"
                         class="pre-context" id="pre-24"
                         onclick="toggle(24);">

                       <li class="pre-context-line"><code>    # JSON GET APIs are vulnerable to being embedded as JavaScript while the
       </code></li>

                       <li class="pre-context-line"><code>    # Array prototype has been patched to track data. Checks the referrer
       </code></li>

                       <li class="pre-context-line"><code>    # even on GET requests if the content type is JSON.
       </code></li>

                       <li class="pre-context-line"><code>    class JsonCsrf &lt; Base
       </code></li>

                       <li class="pre-context-line"><code>      default_reaction :deny
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                     </ol>


                     <ol start="17" class="context" id="24"
                         onclick="toggle(24);">
                       <li class="context-line" id="context-24"><code>        status, headers, body = app.call(env)</code></li>
                     </ol>


                     <ol start="18" class="post-context"
                         id="post-24" onclick="toggle(24);">

                       <li class="post-context-line"><code>        if headers[&#x27;Content-Type&#x27;].to_s.split(&#x27;;&#x27;, 2).first =~ &#x2F;^\s*application\&#x2F;json\s*$&#x2F;
       </code></li>

                       <li class="post-context-line"><code>          if origin(env).nil? and referrer(env) != Request.new(env).host
       </code></li>

                       <li class="post-context-line"><code>            result = react(env)
       </code></li>

                       <li class="post-context-line"><code>            warn env, &quot;attack prevented by #{self.class}&quot;
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>        result or [status, headers, body]
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;base.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="41"
                         class="pre-context" id="pre-25"
                         onclick="toggle(25);">

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                       <li class="pre-context-line"><code>        unless accepts? env
       </code></li>

                       <li class="pre-context-line"><code>          warn env, &quot;attack prevented by #{self.class}&quot;
       </code></li>

                       <li class="pre-context-line"><code>          result = react env
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                     </ol>


                     <ol start="48" class="context" id="25"
                         onclick="toggle(25);">
                       <li class="context-line" id="context-25"><code>        result or app.call(env)</code></li>
                     </ol>


                     <ol start="49" class="post-context"
                         id="post-25" onclick="toggle(25);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def react(env)
       </code></li>

                       <li class="post-context-line"><code>        result = send(options[:reaction], env)
       </code></li>

                       <li class="post-context-line"><code>        result if Array === result and result.size == 3
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;base.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="41"
                         class="pre-context" id="pre-26"
                         onclick="toggle(26);">

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                       <li class="pre-context-line"><code>        unless accepts? env
       </code></li>

                       <li class="pre-context-line"><code>          warn env, &quot;attack prevented by #{self.class}&quot;
       </code></li>

                       <li class="pre-context-line"><code>          result = react env
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                     </ol>


                     <ol start="48" class="context" id="26"
                         onclick="toggle(26);">
                       <li class="context-line" id="context-26"><code>        result or app.call(env)</code></li>
                     </ol>


                     <ol start="49" class="post-context"
                         id="post-26" onclick="toggle(26);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def react(env)
       </code></li>

                       <li class="post-context-line"><code>        result = send(options[:reaction], env)
       </code></li>

                       <li class="post-context-line"><code>        result if Array === result and result.size == 3
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-protection-1.3.2&#x2F;lib&#x2F;rack&#x2F;protection&#x2F;xss_header.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="20"
                         class="pre-context" id="pre-27"
                         onclick="toggle(27);">

                       <li class="pre-context-line"><code>          &#x27;X-Content-Type-Options&#x27; =&gt; &quot;nosniff&quot;
       </code></li>

                       <li class="pre-context-line"><code>        }
       </code></li>

                       <li class="pre-context-line"><code>        headers.delete(&quot;X-Content-Type-Options&quot;) unless options[:nosniff]
       </code></li>

                       <li class="pre-context-line"><code>        headers
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def call(env)
       </code></li>

                     </ol>


                     <ol start="27" class="context" id="27"
                         onclick="toggle(27);">
                       <li class="context-line" id="context-27"><code>        status, headers, body = @app.call(env)</code></li>
                     </ol>


                     <ol start="28" class="post-context"
                         id="post-27" onclick="toggle(27);">

                       <li class="post-context-line"><code>        headers = header.merge(headers) if options[:nosniff] and html?(headers)
       </code></li>

                       <li class="post-context-line"><code>        [status, headers, body]
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-1.5.0&#x2F;lib&#x2F;rack&#x2F;nulllogger.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="2"
                         class="pre-context" id="pre-28"
                         onclick="toggle(28);">

                       <li class="pre-context-line"><code>  class NullLogger
       </code></li>

                       <li class="pre-context-line"><code>    def initialize(app)
       </code></li>

                       <li class="pre-context-line"><code>      @app = app
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    def call(env)
       </code></li>

                       <li class="pre-context-line"><code>      env[&#x27;rack.logger&#x27;] = self
       </code></li>

                     </ol>


                     <ol start="9" class="context" id="28"
                         onclick="toggle(28);">
                       <li class="context-line" id="context-28"><code>      @app.call(env)</code></li>
                     </ol>


                     <ol start="10" class="post-context"
                         id="post-28" onclick="toggle(28);">

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    def info(progname = nil, &amp;block);  end
       </code></li>

                       <li class="post-context-line"><code>    def debug(progname = nil, &amp;block); end
       </code></li>

                       <li class="post-context-line"><code>    def warn(progname = nil, &amp;block);  end
       </code></li>

                       <li class="post-context-line"><code>    def error(progname = nil, &amp;block); end
       </code></li>

                       <li class="post-context-line"><code>    def fatal(progname = nil, &amp;block); end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-1.5.0&#x2F;lib&#x2F;rack&#x2F;head.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="4"
                         class="pre-context" id="pre-29"
                         onclick="toggle(29);">

                       <li class="pre-context-line"><code>  # Rack::Head returns an empty body for all HEAD requests. It leaves
       </code></li>

                       <li class="pre-context-line"><code>  # all other requests unchanged.
       </code></li>

                       <li class="pre-context-line"><code>  def initialize(app)
       </code></li>

                       <li class="pre-context-line"><code>    @app = app
       </code></li>

                       <li class="pre-context-line"><code>  end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>  def call(env)
       </code></li>

                     </ol>


                     <ol start="11" class="context" id="29"
                         onclick="toggle(29);">
                       <li class="context-line" id="context-29"><code>    status, headers, body = @app.call(env)</code></li>
                     </ol>


                     <ol start="12" class="post-context"
                         id="post-29" onclick="toggle(29);">

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    if env[&quot;REQUEST_METHOD&quot;] == &quot;HEAD&quot;
       </code></li>

                       <li class="post-context-line"><code>      body.close if body.respond_to? :close
       </code></li>

                       <li class="post-context-line"><code>      [status, headers, []]
       </code></li>

                       <li class="post-context-line"><code>    else
       </code></li>

                       <li class="post-context-line"><code>      [status, headers, body]
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;showexceptions.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="14"
                         class="pre-context" id="pre-30"
                         onclick="toggle(30);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    def initialize(app)
       </code></li>

                       <li class="pre-context-line"><code>      @app      = app
       </code></li>

                       <li class="pre-context-line"><code>      @template = ERB.new(TEMPLATE)
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    def call(env)
       </code></li>

                     </ol>


                     <ol start="21" class="context" id="30"
                         onclick="toggle(30);">
                       <li class="context-line" id="context-30"><code>      @app.call(env)</code></li>
                     </ol>


                     <ol start="22" class="post-context"
                         id="post-30" onclick="toggle(30);">

                       <li class="post-context-line"><code>    rescue Exception =&gt; e
       </code></li>

                       <li class="post-context-line"><code>      errors, env[&quot;rack.errors&quot;] = env[&quot;rack.errors&quot;], @@eats_errors
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      if respond_to?(:prefers_plain_text?) and prefers_plain_text?(env)
       </code></li>

                       <li class="post-context-line"><code>        content_type = &quot;text&#x2F;plain&quot;
       </code></li>

                       <li class="post-context-line"><code>        body = [dump_exception(e)]
       </code></li>

                       <li class="post-context-line"><code>      else
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info framework">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;sinatra-1.3.3&#x2F;lib&#x2F;sinatra&#x2F;base.rb</code> in
                       <code><strong>call</strong></code>
                   </li>

                   <li class="code framework">

                     <ol start="92"
                         class="pre-context" id="pre-31"
                         onclick="toggle(31);">

                       <li class="pre-context-line"><code>  # Some Rack handlers (Thin, Rainbows!) implement an extended body object protocol, however,
       </code></li>

                       <li class="pre-context-line"><code>  # some middleware (namely Rack::Lint) will break it by not mirroring the methods in question.
       </code></li>

                       <li class="pre-context-line"><code>  # This middleware will detect an extended body object and will make sure it reaches the
       </code></li>

                       <li class="pre-context-line"><code>  # handler directly. We do this here, so our middleware and middleware set up by the app will
       </code></li>

                       <li class="pre-context-line"><code>  # still be able to run.
       </code></li>

                       <li class="pre-context-line"><code>  class ExtendedRack &lt; Struct.new(:app)
       </code></li>

                       <li class="pre-context-line"><code>    def call(env)
       </code></li>

                     </ol>


                     <ol start="99" class="context" id="31"
                         onclick="toggle(31);">
                       <li class="context-line" id="context-31"><code>      result, callback = app.call(env), env[&#x27;async.callback&#x27;]</code></li>
                     </ol>


                     <ol start="100" class="post-context"
                         id="post-31" onclick="toggle(31);">

                       <li class="post-context-line"><code>      return result unless callback and async?(*result)
       </code></li>

                       <li class="post-context-line"><code>      after_response { callback.call result }
       </code></li>

                       <li class="post-context-line"><code>      setup_close(env, *result)
       </code></li>

                       <li class="post-context-line"><code>      throw :async
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    private
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-test-0.6.2&#x2F;lib&#x2F;rack&#x2F;mock_session.rb</code> in
                       <code><strong>request</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="23"
                         class="pre-context" id="pre-32"
                         onclick="toggle(32);">

                       <li class="pre-context-line"><code>    def set_cookie(cookie, uri = nil)
       </code></li>

                       <li class="pre-context-line"><code>      cookie_jar.merge(cookie, uri)
       </code></li>

                       <li class="pre-context-line"><code>    end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    def request(uri, env)
       </code></li>

                       <li class="pre-context-line"><code>      env[&quot;HTTP_COOKIE&quot;] ||= cookie_jar.for(uri)
       </code></li>

                       <li class="pre-context-line"><code>      @last_request = Rack::Request.new(env)
       </code></li>

                     </ol>


                     <ol start="30" class="context" id="32"
                         onclick="toggle(32);">
                       <li class="context-line" id="context-32"><code>      status, headers, body = @app.call(@last_request.env)</code></li>
                     </ol>


                     <ol start="31" class="post-context"
                         id="post-32" onclick="toggle(32);">

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      @last_response = MockResponse.new(status, headers, body, env[&quot;rack.errors&quot;].flush)
       </code></li>

                       <li class="post-context-line"><code>      body.close if body.respond_to?(:close)
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      cookie_jar.merge(last_response.headers[&quot;Set-Cookie&quot;], uri)
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      @after_request.each { |hook| hook.call }
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-test-0.6.2&#x2F;lib&#x2F;rack&#x2F;test.rb</code> in
                       <code><strong>process_request</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="223"
                         class="pre-context" id="pre-33"
                         onclick="toggle(33);">

                       <li class="pre-context-line"><code>        Rack::MockRequest.env_for(uri.to_s, env)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def process_request(uri, env)
       </code></li>

                       <li class="pre-context-line"><code>        uri = URI.parse(uri)
       </code></li>

                       <li class="pre-context-line"><code>        uri.host ||= @default_host
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                     </ol>


                     <ol start="230" class="context" id="33"
                         onclick="toggle(33);">
                       <li class="context-line" id="context-33"><code>        @rack_mock_session.request(uri, env)</code></li>
                     </ol>


                     <ol start="231" class="post-context"
                         id="post-33" onclick="toggle(33);">

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>        if retry_with_digest_auth?(env)
       </code></li>

                       <li class="post-context-line"><code>          auth_env = env.merge({
       </code></li>

                       <li class="post-context-line"><code>            &quot;HTTP_AUTHORIZATION&quot;          =&gt; digest_auth_header,
       </code></li>

                       <li class="post-context-line"><code>            &quot;rack-test.digest_auth_retry&quot; =&gt; true
       </code></li>

                       <li class="post-context-line"><code>          })
       </code></li>

                       <li class="post-context-line"><code>          auth_env.delete(&#x27;rack.request&#x27;)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rack-test-0.6.2&#x2F;lib&#x2F;rack&#x2F;test.rb</code> in
                       <code><strong>post</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="59"
                         class="pre-context" id="pre-34"
                         onclick="toggle(34);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # Issue a POST request for the given URI. See #get
       </code></li>

                       <li class="pre-context-line"><code>      #
       </code></li>

                       <li class="pre-context-line"><code>      # Example:
       </code></li>

                       <li class="pre-context-line"><code>      #   post &quot;&#x2F;signup&quot;, &quot;name&quot; =&gt; &quot;Bryan&quot;
       </code></li>

                       <li class="pre-context-line"><code>      def post(uri, params = {}, env = {}, &amp;block)
       </code></li>

                       <li class="pre-context-line"><code>        env = env_for(uri, env.merge(:method =&gt; &quot;POST&quot;, :params =&gt; params))
       </code></li>

                     </ol>


                     <ol start="66" class="context" id="34"
                         onclick="toggle(34);">
                       <li class="context-line" id="context-34"><code>        process_request(uri, env, &amp;block)</code></li>
                     </ol>


                     <ol start="67" class="post-context"
                         id="post-34" onclick="toggle(34);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # Issue a PUT request for the given URI. See #get
       </code></li>

                       <li class="post-context-line"><code>      #
       </code></li>

                       <li class="post-context-line"><code>      # Example:
       </code></li>

                       <li class="post-context-line"><code>      #   put &quot;&#x2F;&quot;
       </code></li>

                       <li class="post-context-line"><code>      def put(uri, params = {}, env = {}, &amp;block)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info app">
                     <code>&#x2F;usr&#x2F;local&#x2F;ruby&#x2F;mri-1.9.3-p194&#x2F;lib&#x2F;ruby&#x2F;1.9.1&#x2F;forwardable.rb</code> in
                       <code><strong>post</strong></code>
                   </li>

                   <li class="code app">

                     <ol start="194"
                         class="pre-context" id="pre-35"
                         onclick="toggle(35);">

                       <li class="pre-context-line"><code>  #   q.queue    #=&gt; [42]
       </code></li>

                       <li class="pre-context-line"><code>  #   q.push 23  #=&gt; NoMethodError
       </code></li>

                       <li class="pre-context-line"><code>  #
       </code></li>

                       <li class="pre-context-line"><code>  def def_instance_delegator(accessor, method, ali = method)
       </code></li>

                       <li class="pre-context-line"><code>    line_no = __LINE__; str = %{
       </code></li>

                       <li class="pre-context-line"><code>      def #{ali}(*args, &amp;block)
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                     </ol>


                     <ol start="201" class="context" id="35"
                         onclick="toggle(35);">
                       <li class="context-line" id="context-35"><code>          #{accessor}.__send__(:#{method}, *args, &amp;block)</code></li>
                     </ol>


                     <ol start="202" class="post-context"
                         id="post-35" onclick="toggle(35);">

                       <li class="post-context-line"><code>        rescue Exception
       </code></li>

                       <li class="post-context-line"><code>          $@.delete_if{|s| %r&quot;#{Regexp.quote(__FILE__)}&quot;o =~ s} unless Forwardable::debug
       </code></li>

                       <li class="post-context-line"><code>          ::Kernel::raise
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    }
       </code></li>

                       <li class="post-context-line"><code>    # If it&#x27;s not a class or module, it&#x27;s an instance
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info app">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;Development&#x2F;cah&#x2F;spec&#x2F;api&#x2F;games_spec.rb</code> in
                       <code><strong>block (3 levels) in &lt;top (required)&gt;</strong></code>
                   </li>

                   <li class="code app">

                     <ol start="41"
                         class="pre-context" id="pre-36"
                         onclick="toggle(36);">

                       <li class="pre-context-line"><code>    before do
       </code></li>

                       <li class="pre-context-line"><code>      @game = Game.new
       </code></li>

                       <li class="pre-context-line"><code>      @game.white_cards = Deck.new([&quot;Card&quot;] * 10)
       </code></li>

                       <li class="pre-context-line"><code>      @game.black_cards = Deck.new([&quot;Black&quot;] * 10)
       </code></li>

                       <li class="pre-context-line"><code>      @game.add_player(&quot;1234-56-78&quot;)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      SecureRandom.stubs(:uuid).returns(&quot;abcd-ef-gh&quot;)
       </code></li>

                     </ol>


                     <ol start="48" class="context" id="36"
                         onclick="toggle(36);">
                       <li class="context-line" id="context-36"><code>      post &#x27;&#x2F;games&#x2F;aaaaa&#x2F;player&#x27;</code></li>
                     </ol>


                     <ol start="49" class="post-context"
                         id="post-36" onclick="toggle(36);">

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      @document = MultiJson.load(last_response.body)
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    it &#x27;succeeds&#x27; do
       </code></li>

                       <li class="post-context-line"><code>      last_response.status.should == 200
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>instance_eval</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="230"
                         class="pre-context" id="pre-37"
                         onclick="toggle(37);">

                       <li class="pre-context-line"><code>        start(reporter)
       </code></li>

                       <li class="pre-context-line"><code>        set_exception(exception)
       </code></li>

                       <li class="pre-context-line"><code>        finish(reporter)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def instance_eval(&amp;block)
       </code></li>

                     </ol>


                     <ol start="237" class="context" id="37"
                         onclick="toggle(37);">
                       <li class="context-line" id="context-37"><code>        @example_group_instance.instance_eval(&amp;block)</code></li>
                     </ol>


                     <ol start="238" class="post-context"
                         id="post-37" onclick="toggle(37);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # @private
       </code></li>

                       <li class="post-context-line"><code>      def instance_eval_with_rescue(context = nil, &amp;block)
       </code></li>

                       <li class="post-context-line"><code>        @example_group_instance.instance_eval_with_rescue(context, &amp;block)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>instance_eval</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="230"
                         class="pre-context" id="pre-38"
                         onclick="toggle(38);">

                       <li class="pre-context-line"><code>        start(reporter)
       </code></li>

                       <li class="pre-context-line"><code>        set_exception(exception)
       </code></li>

                       <li class="pre-context-line"><code>        finish(reporter)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def instance_eval(&amp;block)
       </code></li>

                     </ol>


                     <ol start="237" class="context" id="38"
                         onclick="toggle(38);">
                       <li class="context-line" id="context-38"><code>        @example_group_instance.instance_eval(&amp;block)</code></li>
                     </ol>


                     <ol start="238" class="post-context"
                         id="post-38" onclick="toggle(38);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # @private
       </code></li>

                       <li class="post-context-line"><code>      def instance_eval_with_rescue(context = nil, &amp;block)
       </code></li>

                       <li class="post-context-line"><code>        @example_group_instance.instance_eval_with_rescue(context, &amp;block)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;hooks.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="16"
                         class="pre-context" id="pre-39"
                         onclick="toggle(39);">

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      module BeforeHookExtension
       </code></li>

                       <li class="pre-context-line"><code>        include HookExtension
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def run(example)
       </code></li>

                     </ol>


                     <ol start="23" class="context" id="39"
                         onclick="toggle(39);">
                       <li class="context-line" id="context-39"><code>          example.instance_eval(&amp;self)</code></li>
                     </ol>


                     <ol start="24" class="post-context"
                         id="post-39" onclick="toggle(39);">

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>        def display_name
       </code></li>

                       <li class="post-context-line"><code>          &quot;before hook&quot;
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;hooks.rb</code> in
                       <code><strong>block in run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="65"
                         class="pre-context" id="pre-40"
                         onclick="toggle(40);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def with(example)
       </code></li>

                       <li class="pre-context-line"><code>          @example = example
       </code></li>

                       <li class="pre-context-line"><code>          self
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def run
       </code></li>

                     </ol>


                     <ol start="72" class="context" id="40"
                         onclick="toggle(40);">
                       <li class="context-line" id="context-40"><code>          each {|h| h.run(@example) } unless empty?</code></li>
                     </ol>


                     <ol start="73" class="post-context"
                         id="post-40" onclick="toggle(40);">

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      class AroundHookCollection &lt; Array
       </code></li>

                       <li class="post-context-line"><code>        include HookCollectionAliases
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>        def for(example, initial_procsy=nil)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;hooks.rb</code> in
                       <code><strong>each</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="65"
                         class="pre-context" id="pre-41"
                         onclick="toggle(41);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def with(example)
       </code></li>

                       <li class="pre-context-line"><code>          @example = example
       </code></li>

                       <li class="pre-context-line"><code>          self
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def run
       </code></li>

                     </ol>


                     <ol start="72" class="context" id="41"
                         onclick="toggle(41);">
                       <li class="context-line" id="context-41"><code>          each {|h| h.run(@example) } unless empty?</code></li>
                     </ol>


                     <ol start="73" class="post-context"
                         id="post-41" onclick="toggle(41);">

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      class AroundHookCollection &lt; Array
       </code></li>

                       <li class="post-context-line"><code>        include HookCollectionAliases
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>        def for(example, initial_procsy=nil)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;hooks.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="65"
                         class="pre-context" id="pre-42"
                         onclick="toggle(42);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def with(example)
       </code></li>

                       <li class="pre-context-line"><code>          @example = example
       </code></li>

                       <li class="pre-context-line"><code>          self
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        def run
       </code></li>

                     </ol>


                     <ol start="72" class="context" id="42"
                         onclick="toggle(42);">
                       <li class="context-line" id="context-42"><code>          each {|h| h.run(@example) } unless empty?</code></li>
                     </ol>


                     <ol start="73" class="post-context"
                         id="post-42" onclick="toggle(42);">

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      class AroundHookCollection &lt; Array
       </code></li>

                       <li class="post-context-line"><code>        include HookCollectionAliases
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>        def for(example, initial_procsy=nil)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;hooks.rb</code> in
                       <code><strong>run_hook</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="417"
                         class="pre-context" id="pre-43"
                         onclick="toggle(43);">

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      #
       </code></li>

                       <li class="pre-context-line"><code>      # Runs all of the blocks stored with the hook in the context of the
       </code></li>

                       <li class="pre-context-line"><code>      # example. If no example is provided, just calls the hook directly.
       </code></li>

                       <li class="pre-context-line"><code>      def run_hook(hook, scope, example_or_group=ExampleGroup.new, initial_procsy=nil)
       </code></li>

                     </ol>


                     <ol start="424" class="context" id="43"
                         onclick="toggle(43);">
                       <li class="context-line" id="context-43"><code>        find_hook(hook, scope, example_or_group, initial_procsy).run</code></li>
                     </ol>


                     <ol start="425" class="post-context"
                         id="post-43" onclick="toggle(43);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # @private
       </code></li>

                       <li class="post-context-line"><code>      def around_each_hooks_for(example, initial_procsy=nil)
       </code></li>

                       <li class="post-context-line"><code>        AroundHookCollection.new(parent_groups.map {|a| a.hooks[:around][:each]}.flatten).for(example, initial_procsy)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>run_before_each_hooks</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="325"
                         class="pre-context" id="pre-44"
                         onclick="toggle(44);">

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def self.run_around_each_hooks(example, initial_procsy)
       </code></li>

                       <li class="pre-context-line"><code>        run_hook(:around, :each, example, initial_procsy)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def self.run_before_each_hooks(example)
       </code></li>

                     </ol>


                     <ol start="332" class="context" id="44"
                         onclick="toggle(44);">
                       <li class="context-line" id="context-44"><code>        run_hook(:before, :each, example)</code></li>
                     </ol>


                     <ol start="333" class="post-context"
                         id="post-44" onclick="toggle(44);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # @private
       </code></li>

                       <li class="post-context-line"><code>      def self.run_after_each_hooks(example)
       </code></li>

                       <li class="post-context-line"><code>        run_hook(:after, :each, example)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>run_before_each</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="293"
                         class="pre-context" id="pre-45"
                         onclick="toggle(45);">

                       <li class="pre-context-line"><code>      def record_finished(status, results={})
       </code></li>

                       <li class="pre-context-line"><code>        finished_at = RSpec::Core::Time.now
       </code></li>

                       <li class="pre-context-line"><code>        record results.merge(:status =&gt; status, :finished_at =&gt; finished_at, :run_time =&gt; (finished_at - execution_result[:started_at]).to_f)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def run_before_each
       </code></li>

                       <li class="pre-context-line"><code>        @example_group_instance.setup_mocks_for_rspec
       </code></li>

                     </ol>


                     <ol start="300" class="context" id="45"
                         onclick="toggle(45);">
                       <li class="context-line" id="context-45"><code>        @example_group_class.run_before_each_hooks(self)</code></li>
                     </ol>


                     <ol start="301" class="post-context"
                         id="post-45" onclick="toggle(45);">

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def run_after_each
       </code></li>

                       <li class="post-context-line"><code>        @example_group_class.run_after_each_hooks(self)
       </code></li>

                       <li class="post-context-line"><code>        verify_mocks
       </code></li>

                       <li class="post-context-line"><code>      rescue Exception =&gt; e
       </code></li>

                       <li class="post-context-line"><code>        set_exception(e, &quot;in an after(:each) hook&quot;)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>block in run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="106"
                         class="pre-context" id="pre-46"
                         onclick="toggle(46);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        start(reporter)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          unless pending
       </code></li>

                       <li class="pre-context-line"><code>            with_around_each_hooks do
       </code></li>

                       <li class="pre-context-line"><code>              begin
       </code></li>

                     </ol>


                     <ol start="113" class="context" id="46"
                         onclick="toggle(46);">
                       <li class="context-line" id="context-46"><code>                run_before_each</code></li>
                     </ol>


                     <ol start="114" class="post-context"
                         id="post-46" onclick="toggle(46);">

                       <li class="post-context-line"><code>                @example_group_instance.instance_eval(&amp;@example_block)
       </code></li>

                       <li class="post-context-line"><code>              rescue Pending::PendingDeclaredInExample =&gt; e
       </code></li>

                       <li class="post-context-line"><code>                @pending_declared_in_example = e.message
       </code></li>

                       <li class="post-context-line"><code>              rescue Exception =&gt; e
       </code></li>

                       <li class="post-context-line"><code>                set_exception(e)
       </code></li>

                       <li class="post-context-line"><code>              ensure
       </code></li>

                       <li class="post-context-line"><code>                run_after_each
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>with_around_each_hooks</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="247"
                         class="pre-context" id="pre-47"
                         onclick="toggle(47);">

                       <li class="pre-context-line"><code>        @example_group_instance.instance_eval_with_args(*args, &amp;block)
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>    private
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      def with_around_each_hooks(&amp;block)
       </code></li>

                       <li class="pre-context-line"><code>        if around_each_hooks.empty?
       </code></li>

                     </ol>


                     <ol start="254" class="context" id="47"
                         onclick="toggle(47);">
                       <li class="context-line" id="context-47"><code>          yield</code></li>
                     </ol>


                     <ol start="255" class="post-context"
                         id="post-47" onclick="toggle(47);">

                       <li class="post-context-line"><code>        else
       </code></li>

                       <li class="post-context-line"><code>          @example_group_class.run_around_each_hooks(self, Example.procsy(metadata, &amp;block))
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      rescue Exception =&gt; e
       </code></li>

                       <li class="post-context-line"><code>        set_exception(e, &quot;in an around(:each) hook&quot;)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="104"
                         class="pre-context" id="pre-48"
                         onclick="toggle(48);">

                       <li class="pre-context-line"><code>        @example_group_instance = example_group_instance
       </code></li>

                       <li class="pre-context-line"><code>        @example_group_instance.example = self
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        start(reporter)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          unless pending
       </code></li>

                     </ol>


                     <ol start="111" class="context" id="48"
                         onclick="toggle(48);">
                       <li class="context-line" id="context-48"><code>            with_around_each_hooks do</code></li>
                     </ol>


                     <ol start="112" class="post-context"
                         id="post-48" onclick="toggle(48);">

                       <li class="post-context-line"><code>              begin
       </code></li>

                       <li class="post-context-line"><code>                run_before_each
       </code></li>

                       <li class="post-context-line"><code>                @example_group_instance.instance_eval(&amp;@example_block)
       </code></li>

                       <li class="post-context-line"><code>              rescue Pending::PendingDeclaredInExample =&gt; e
       </code></li>

                       <li class="post-context-line"><code>                @pending_declared_in_example = e.message
       </code></li>

                       <li class="post-context-line"><code>              rescue Exception =&gt; e
       </code></li>

                       <li class="post-context-line"><code>                set_exception(e)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>block in run_examples</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="381"
                         class="pre-context" id="pre-49"
                         onclick="toggle(49);">

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def self.run_examples(reporter)
       </code></li>

                       <li class="pre-context-line"><code>        filtered_examples.ordered.map do |example|
       </code></li>

                       <li class="pre-context-line"><code>          next if RSpec.wants_to_quit
       </code></li>

                       <li class="pre-context-line"><code>          instance = new
       </code></li>

                       <li class="pre-context-line"><code>          set_ivars(instance, before_all_ivars)
       </code></li>

                     </ol>


                     <ol start="388" class="context" id="49"
                         onclick="toggle(49);">
                       <li class="context-line" id="context-49"><code>          succeeded = example.run(instance, reporter)</code></li>
                     </ol>


                     <ol start="389" class="post-context"
                         id="post-49" onclick="toggle(49);">

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast? &amp;&amp; !succeeded
       </code></li>

                       <li class="post-context-line"><code>          succeeded
       </code></li>

                       <li class="post-context-line"><code>        end.all?
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      # @private
       </code></li>

                       <li class="post-context-line"><code>      def self.fail_filtered_examples(exception, reporter)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>map</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="377"
                         class="pre-context" id="pre-50"
                         onclick="toggle(50);">

                       <li class="pre-context-line"><code>          before_all_ivars.clear
       </code></li>

                       <li class="pre-context-line"><code>          reporter.example_group_finished(self)
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def self.run_examples(reporter)
       </code></li>

                     </ol>


                     <ol start="384" class="context" id="50"
                         onclick="toggle(50);">
                       <li class="context-line" id="context-50"><code>        filtered_examples.ordered.map do |example|</code></li>
                     </ol>


                     <ol start="385" class="post-context"
                         id="post-50" onclick="toggle(50);">

                       <li class="post-context-line"><code>          next if RSpec.wants_to_quit
       </code></li>

                       <li class="post-context-line"><code>          instance = new
       </code></li>

                       <li class="post-context-line"><code>          set_ivars(instance, before_all_ivars)
       </code></li>

                       <li class="post-context-line"><code>          succeeded = example.run(instance, reporter)
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast? &amp;&amp; !succeeded
       </code></li>

                       <li class="post-context-line"><code>          succeeded
       </code></li>

                       <li class="post-context-line"><code>        end.all?
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>run_examples</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="377"
                         class="pre-context" id="pre-51"
                         onclick="toggle(51);">

                       <li class="pre-context-line"><code>          before_all_ivars.clear
       </code></li>

                       <li class="pre-context-line"><code>          reporter.example_group_finished(self)
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>      end
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>      # @private
       </code></li>

                       <li class="pre-context-line"><code>      def self.run_examples(reporter)
       </code></li>

                     </ol>


                     <ol start="384" class="context" id="51"
                         onclick="toggle(51);">
                       <li class="context-line" id="context-51"><code>        filtered_examples.ordered.map do |example|</code></li>
                     </ol>


                     <ol start="385" class="post-context"
                         id="post-51" onclick="toggle(51);">

                       <li class="post-context-line"><code>          next if RSpec.wants_to_quit
       </code></li>

                       <li class="post-context-line"><code>          instance = new
       </code></li>

                       <li class="post-context-line"><code>          set_ivars(instance, before_all_ivars)
       </code></li>

                       <li class="post-context-line"><code>          succeeded = example.run(instance, reporter)
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast? &amp;&amp; !succeeded
       </code></li>

                       <li class="post-context-line"><code>          succeeded
       </code></li>

                       <li class="post-context-line"><code>        end.all?
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="362"
                         class="pre-context" id="pre-52"
                         onclick="toggle(52);">

                       <li class="pre-context-line"><code>          RSpec.clear_remaining_example_groups if top_level?
       </code></li>

                       <li class="pre-context-line"><code>          return
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>        reporter.example_group_started(self)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          run_before_all_hooks(new)
       </code></li>

                     </ol>


                     <ol start="369" class="context" id="52"
                         onclick="toggle(52);">
                       <li class="context-line" id="context-52"><code>          result_for_this_group = run_examples(reporter)</code></li>
                     </ol>


                     <ol start="370" class="post-context"
                         id="post-52" onclick="toggle(52);">

                       <li class="post-context-line"><code>          results_for_descendants = children.ordered.map {|child| child.run(reporter)}.all?
       </code></li>

                       <li class="post-context-line"><code>          result_for_this_group &amp;&amp; results_for_descendants
       </code></li>

                       <li class="post-context-line"><code>        rescue Exception =&gt; ex
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast?
       </code></li>

                       <li class="post-context-line"><code>          fail_filtered_examples(ex, reporter)
       </code></li>

                       <li class="post-context-line"><code>        ensure
       </code></li>

                       <li class="post-context-line"><code>          run_after_all_hooks(new)
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>block in run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="363"
                         class="pre-context" id="pre-53"
                         onclick="toggle(53);">

                       <li class="pre-context-line"><code>          return
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>        reporter.example_group_started(self)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          run_before_all_hooks(new)
       </code></li>

                       <li class="pre-context-line"><code>          result_for_this_group = run_examples(reporter)
       </code></li>

                     </ol>


                     <ol start="370" class="context" id="53"
                         onclick="toggle(53);">
                       <li class="context-line" id="context-53"><code>          results_for_descendants = children.ordered.map {|child| child.run(reporter)}.all?</code></li>
                     </ol>


                     <ol start="371" class="post-context"
                         id="post-53" onclick="toggle(53);">

                       <li class="post-context-line"><code>          result_for_this_group &amp;&amp; results_for_descendants
       </code></li>

                       <li class="post-context-line"><code>        rescue Exception =&gt; ex
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast?
       </code></li>

                       <li class="post-context-line"><code>          fail_filtered_examples(ex, reporter)
       </code></li>

                       <li class="post-context-line"><code>        ensure
       </code></li>

                       <li class="post-context-line"><code>          run_after_all_hooks(new)
       </code></li>

                       <li class="post-context-line"><code>          before_all_ivars.clear
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>map</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="363"
                         class="pre-context" id="pre-54"
                         onclick="toggle(54);">

                       <li class="pre-context-line"><code>          return
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>        reporter.example_group_started(self)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          run_before_all_hooks(new)
       </code></li>

                       <li class="pre-context-line"><code>          result_for_this_group = run_examples(reporter)
       </code></li>

                     </ol>


                     <ol start="370" class="context" id="54"
                         onclick="toggle(54);">
                       <li class="context-line" id="context-54"><code>          results_for_descendants = children.ordered.map {|child| child.run(reporter)}.all?</code></li>
                     </ol>


                     <ol start="371" class="post-context"
                         id="post-54" onclick="toggle(54);">

                       <li class="post-context-line"><code>          result_for_this_group &amp;&amp; results_for_descendants
       </code></li>

                       <li class="post-context-line"><code>        rescue Exception =&gt; ex
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast?
       </code></li>

                       <li class="post-context-line"><code>          fail_filtered_examples(ex, reporter)
       </code></li>

                       <li class="post-context-line"><code>        ensure
       </code></li>

                       <li class="post-context-line"><code>          run_after_all_hooks(new)
       </code></li>

                       <li class="post-context-line"><code>          before_all_ivars.clear
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;example_group.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="363"
                         class="pre-context" id="pre-55"
                         onclick="toggle(55);">

                       <li class="pre-context-line"><code>          return
       </code></li>

                       <li class="pre-context-line"><code>        end
       </code></li>

                       <li class="pre-context-line"><code>        reporter.example_group_started(self)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        begin
       </code></li>

                       <li class="pre-context-line"><code>          run_before_all_hooks(new)
       </code></li>

                       <li class="pre-context-line"><code>          result_for_this_group = run_examples(reporter)
       </code></li>

                     </ol>


                     <ol start="370" class="context" id="55"
                         onclick="toggle(55);">
                       <li class="context-line" id="context-55"><code>          results_for_descendants = children.ordered.map {|child| child.run(reporter)}.all?</code></li>
                     </ol>


                     <ol start="371" class="post-context"
                         id="post-55" onclick="toggle(55);">

                       <li class="post-context-line"><code>          result_for_this_group &amp;&amp; results_for_descendants
       </code></li>

                       <li class="post-context-line"><code>        rescue Exception =&gt; ex
       </code></li>

                       <li class="post-context-line"><code>          RSpec.wants_to_quit = true if fail_fast?
       </code></li>

                       <li class="post-context-line"><code>          fail_filtered_examples(ex, reporter)
       </code></li>

                       <li class="post-context-line"><code>        ensure
       </code></li>

                       <li class="post-context-line"><code>          run_after_all_hooks(new)
       </code></li>

                       <li class="post-context-line"><code>          before_all_ivars.clear
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;command_line.rb</code> in
                       <code><strong>block (2 levels) in run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="21"
                         class="pre-context" id="pre-56"
                         onclick="toggle(56);">

                       <li class="pre-context-line"><code>        @options.configure(@configuration)
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.load_spec_files
       </code></li>

                       <li class="pre-context-line"><code>        @world.announce_filters
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.reporter.report(@world.example_count, @configuration.randomize? ? @configuration.seed : nil) do |reporter|
       </code></li>

                       <li class="pre-context-line"><code>          begin
       </code></li>

                       <li class="pre-context-line"><code>            @configuration.run_hook(:before, :suite)
       </code></li>

                     </ol>


                     <ol start="28" class="context" id="56"
                         onclick="toggle(56);">
                       <li class="context-line" id="context-56"><code>            @world.example_groups.ordered.map {|g| g.run(reporter)}.all? ? 0 : @configuration.failure_exit_code</code></li>
                     </ol>


                     <ol start="29" class="post-context"
                         id="post-56" onclick="toggle(56);">

                       <li class="post-context-line"><code>          ensure
       </code></li>

                       <li class="post-context-line"><code>            @configuration.run_hook(:after, :suite)
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;command_line.rb</code> in
                       <code><strong>map</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="21"
                         class="pre-context" id="pre-57"
                         onclick="toggle(57);">

                       <li class="pre-context-line"><code>        @options.configure(@configuration)
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.load_spec_files
       </code></li>

                       <li class="pre-context-line"><code>        @world.announce_filters
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.reporter.report(@world.example_count, @configuration.randomize? ? @configuration.seed : nil) do |reporter|
       </code></li>

                       <li class="pre-context-line"><code>          begin
       </code></li>

                       <li class="pre-context-line"><code>            @configuration.run_hook(:before, :suite)
       </code></li>

                     </ol>


                     <ol start="28" class="context" id="57"
                         onclick="toggle(57);">
                       <li class="context-line" id="context-57"><code>            @world.example_groups.ordered.map {|g| g.run(reporter)}.all? ? 0 : @configuration.failure_exit_code</code></li>
                     </ol>


                     <ol start="29" class="post-context"
                         id="post-57" onclick="toggle(57);">

                       <li class="post-context-line"><code>          ensure
       </code></li>

                       <li class="post-context-line"><code>            @configuration.run_hook(:after, :suite)
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;command_line.rb</code> in
                       <code><strong>block in run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="21"
                         class="pre-context" id="pre-58"
                         onclick="toggle(58);">

                       <li class="pre-context-line"><code>        @options.configure(@configuration)
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.load_spec_files
       </code></li>

                       <li class="pre-context-line"><code>        @world.announce_filters
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.reporter.report(@world.example_count, @configuration.randomize? ? @configuration.seed : nil) do |reporter|
       </code></li>

                       <li class="pre-context-line"><code>          begin
       </code></li>

                       <li class="pre-context-line"><code>            @configuration.run_hook(:before, :suite)
       </code></li>

                     </ol>


                     <ol start="28" class="context" id="58"
                         onclick="toggle(58);">
                       <li class="context-line" id="context-58"><code>            @world.example_groups.ordered.map {|g| g.run(reporter)}.all? ? 0 : @configuration.failure_exit_code</code></li>
                     </ol>


                     <ol start="29" class="post-context"
                         id="post-58" onclick="toggle(58);">

                       <li class="post-context-line"><code>          ensure
       </code></li>

                       <li class="post-context-line"><code>            @configuration.run_hook(:after, :suite)
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;reporter.rb</code> in
                       <code><strong>report</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="27"
                         class="pre-context" id="pre-59"
                         onclick="toggle(59);">

                       <li class="pre-context-line"><code>    #     reporter.report(group.examples.size) do |r|
       </code></li>

                       <li class="pre-context-line"><code>    #       example_groups.map {|g| g.run(r) }
       </code></li>

                       <li class="pre-context-line"><code>    #     end
       </code></li>

                       <li class="pre-context-line"><code>    #
       </code></li>

                       <li class="pre-context-line"><code>    def report(expected_example_count, seed=nil)
       </code></li>

                       <li class="pre-context-line"><code>      start(expected_example_count)
       </code></li>

                       <li class="pre-context-line"><code>      begin
       </code></li>

                     </ol>


                     <ol start="34" class="context" id="59"
                         onclick="toggle(59);">
                       <li class="context-line" id="context-59"><code>        yield self</code></li>
                     </ol>


                     <ol start="35" class="post-context"
                         id="post-59" onclick="toggle(59);">

                       <li class="post-context-line"><code>      ensure
       </code></li>

                       <li class="post-context-line"><code>        finish(seed)
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>    def start(expected_example_count)
       </code></li>

                       <li class="post-context-line"><code>      @start = RSpec::Core::Time.now
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;command_line.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="18"
                         class="pre-context" id="pre-60"
                         onclick="toggle(60);">

                       <li class="pre-context-line"><code>      def run(err, out)
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.error_stream = err
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.output_stream ||= out
       </code></li>

                       <li class="pre-context-line"><code>        @options.configure(@configuration)
       </code></li>

                       <li class="pre-context-line"><code>        @configuration.load_spec_files
       </code></li>

                       <li class="pre-context-line"><code>        @world.announce_filters
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                     </ol>


                     <ol start="25" class="context" id="60"
                         onclick="toggle(60);">
                       <li class="context-line" id="context-60"><code>        @configuration.reporter.report(@world.example_count, @configuration.randomize? ? @configuration.seed : nil) do |reporter|</code></li>
                     </ol>


                     <ol start="26" class="post-context"
                         id="post-60" onclick="toggle(60);">

                       <li class="post-context-line"><code>          begin
       </code></li>

                       <li class="post-context-line"><code>            @configuration.run_hook(:before, :suite)
       </code></li>

                       <li class="post-context-line"><code>            @world.example_groups.ordered.map {|g| g.run(reporter)}.all? ? 0 : @configuration.failure_exit_code
       </code></li>

                       <li class="post-context-line"><code>          ensure
       </code></li>

                       <li class="post-context-line"><code>            @configuration.run_hook(:after, :suite)
       </code></li>

                       <li class="post-context-line"><code>          end
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;runner.rb</code> in
                       <code><strong>run</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="73"
                         class="pre-context" id="pre-61"
                         onclick="toggle(61);">

                       <li class="pre-context-line"><code>          begin
       </code></li>

                       <li class="pre-context-line"><code>            DRbCommandLine.new(options).run(err, out)
       </code></li>

                       <li class="pre-context-line"><code>          rescue DRb::DRbConnError
       </code></li>

                       <li class="pre-context-line"><code>            err.puts &quot;No DRb server is running. Running in local process instead ...&quot;
       </code></li>

                       <li class="pre-context-line"><code>            CommandLine.new(options).run(err, out)
       </code></li>

                       <li class="pre-context-line"><code>          end
       </code></li>

                       <li class="pre-context-line"><code>        else
       </code></li>

                     </ol>


                     <ol start="80" class="context" id="61"
                         onclick="toggle(61);">
                       <li class="context-line" id="context-61"><code>          CommandLine.new(options).run(err, out)</code></li>
                     </ol>


                     <ol start="81" class="post-context"
                         id="post-61" onclick="toggle(61);">

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>      ensure
       </code></li>

                       <li class="post-context-line"><code>        RSpec.reset
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>    end
       </code></li>

                       <li class="post-context-line"><code>  end
       </code></li>

                       <li class="post-context-line"><code>end
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>







                   <li class="frame-info system">
                     <code>&#x2F;Users&#x2F;jyurek&#x2F;.gem&#x2F;ruby&#x2F;1.9.3&#x2F;gems&#x2F;rspec-core-2.12.2&#x2F;lib&#x2F;rspec&#x2F;core&#x2F;runner.rb</code> in
                       <code><strong>block in autorun</strong></code>
                   </li>

                   <li class="code system">

                     <ol start="10"
                         class="pre-context" id="pre-62"
                         onclick="toggle(62);">

                       <li class="pre-context-line"><code>          # if we got here due to an unrescued exception (anything other than
       </code></li>

                       <li class="pre-context-line"><code>          # SystemExit, which is raised when somebody calls Kernel#exit).
       </code></li>

                       <li class="pre-context-line"><code>          next unless $!.nil? || $!.kind_of?(SystemExit)
       </code></li>

                       <li class="pre-context-line"><code>
       </code></li>

                       <li class="pre-context-line"><code>          # We got here because either the end of the program was reached or
       </code></li>

                       <li class="pre-context-line"><code>          # somebody called Kernel#exit.  Run the specs and then override any
       </code></li>

                       <li class="pre-context-line"><code>          # existing exit status with RSpec&#x27;s exit status if any specs failed.
       </code></li>

                     </ol>


                     <ol start="17" class="context" id="62"
                         onclick="toggle(62);">
                       <li class="context-line" id="context-62"><code>          status = run(ARGV, $stderr, $stdout).to_i</code></li>
                     </ol>


                     <ol start="18" class="post-context"
                         id="post-62" onclick="toggle(62);">

                       <li class="post-context-line"><code>          exit status if status != 0
       </code></li>

                       <li class="post-context-line"><code>        end
       </code></li>

                       <li class="post-context-line"><code>        @installed_at_exit = true
       </code></li>

                       <li class="post-context-line"><code>      end
       </code></li>

                       <li class="post-context-line"><code>      AT_EXIT_HOOK_BACKTRACE_LINE = &quot;#{__FILE__}:#{__LINE__ - 2}:in `autorun&#x27;&quot;
       </code></li>

                       <li class="post-context-line"><code>
       </code></li>

                       <li class="post-context-line"><code>      def self.disable_autorun!
       </code></li>

                     </ol>

                     <div class="clear"></div>
                   </li>






             </ul>
           </div> <!-- /BACKTRACE -->

           <div id="get">
             <h3 id="get-info">GET</h3>

               <p class="no-data">No GET data.</p>

             <div class="clear"></div>
           </div> <!-- /GET -->

           <div id="post">
             <h3 id="post-info">POST</h3>

               <p class="no-data">No POST data.</p>

             <div class="clear"></div>
           </div> <!-- /POST -->

           <div id="cookies">
             <h3 id="cookie-info">COOKIES</h3>

               <p class="no-data">No cookie data.</p>

             <div class="clear"></div>
           </div> <!-- /COOKIES -->

           <div id="rack">
             <h3 id="env-info">Rack ENV</h3>
             <table class="req">
               <tr>
                 <th>Variable</th>
                 <th>Value</th>
               </tr>

                <tr>
                  <td>CONTENT_LENGTH</td>
                  <td class="code"><div>0</div></td>
                </tr>

                <tr>
                  <td>CONTENT_TYPE</td>
                  <td class="code"><div>application&#x2F;x-www-form-urlencoded</div></td>
                </tr>

                <tr>
                  <td>HTTPS</td>
                  <td class="code"><div>off</div></td>
                </tr>

                <tr>
                  <td>HTTP_COOKIE</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>HTTP_HOST</td>
                  <td class="code"><div>example.org</div></td>
                </tr>

                <tr>
                  <td>PATH_INFO</td>
                  <td class="code"><div>&#x2F;games&#x2F;aaaaa&#x2F;player</div></td>
                </tr>

                <tr>
                  <td>QUERY_STRING</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>REMOTE_ADDR</td>
                  <td class="code"><div>127.0.0.1</div></td>
                </tr>

                <tr>
                  <td>REQUEST_METHOD</td>
                  <td class="code"><div>POST</div></td>
                </tr>

                <tr>
                  <td>SCRIPT_NAME</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>SERVER_NAME</td>
                  <td class="code"><div>example.org</div></td>
                </tr>

                <tr>
                  <td>SERVER_PORT</td>
                  <td class="code"><div>80</div></td>
                </tr>

                <tr>
                  <td>rack.errors</td>
                  <td class="code"><div>#&lt;Object:0x007fc053afc6f0&gt;</div></td>
                </tr>

                <tr>
                  <td>rack.input</td>
                  <td class="code"><div>#&lt;StringIO:0x007fc0539775a0&gt;</div></td>
                </tr>

                <tr>
                  <td>rack.logger</td>
                  <td class="code"><div>#&lt;Rack::NullLogger:0x007fc057ed4530 @app=#&lt;Rack::Protection::FrameOptions:0x007fc057ed45f8 @app=#&lt;Rack::Protection::HttpOrigin:0x007fc057ed4670 @app=#&lt;Rack::Protection::IPSpoofing:0x007fc057ed46e8 @app=#&lt;Rack::Protection::JsonCsrf:0x007fc057ed4760 @app=#&lt;Rack::Protection::PathTraversal:0x007fc057ed47d8 @app=#&lt;Rack::Protection::XSSHeader:0x007fc057ed4878 @app=#&lt;CahGame:0x007fc057ed4d50 @default_layout=:layout, @app=nil, @template_cache=#&lt;Tilt::Cache:0x007fc057ed4d28 @cache={}&gt;&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :xss_mode=&gt;:block, :nosniff=&gt;true, :except=&gt;[:session_hijacking, :remote_token]}&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :except=&gt;[:session_hijacking, :remote_token]}&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :except=&gt;[:session_hijacking, :remote_token]}&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :except=&gt;[:session_hijacking, :remote_token]}&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :except=&gt;[:session_hijacking, :remote_token]}&gt;, @options={:reaction=&gt;:drop_session, :logging=&gt;true, :message=&gt;&quot;Forbidden&quot;, :encryptor=&gt;Digest::SHA1, :session_key=&gt;&quot;rack.session&quot;, :status=&gt;403, :allow_empty_referrer=&gt;true, :html_types=&gt;[&quot;text&#x2F;html&quot;, &quot;application&#x2F;xhtml&quot;], :xss_mode=&gt;:block, :nosniff=&gt;true, :frame_options=&gt;:sameorigin, :except=&gt;[:session_hijacking, :remote_token]}&gt;&gt;</div></td>
                </tr>

                <tr>
                  <td>rack.multiprocess</td>
                  <td class="code"><div>true</div></td>
                </tr>

                <tr>
                  <td>rack.multithread</td>
                  <td class="code"><div>true</div></td>
                </tr>

                <tr>
                  <td>rack.request.cookie_hash</td>
                  <td class="code"><div>{}</div></td>
                </tr>

                <tr>
                  <td>rack.request.cookie_string</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>rack.request.form_hash</td>
                  <td class="code"><div>{}</div></td>
                </tr>

                <tr>
                  <td>rack.request.form_input</td>
                  <td class="code"><div>#&lt;StringIO:0x007fc0539775a0&gt;</div></td>
                </tr>

                <tr>
                  <td>rack.request.form_vars</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>rack.request.query_hash</td>
                  <td class="code"><div>{}</div></td>
                </tr>

                <tr>
                  <td>rack.request.query_string</td>
                  <td class="code"><div></div></td>
                </tr>

                <tr>
                  <td>rack.run_once</td>
                  <td class="code"><div>false</div></td>
                </tr>

                <tr>
                  <td>rack.test</td>
                  <td class="code"><div>true</div></td>
                </tr>

                <tr>
                  <td>rack.url_scheme</td>
                  <td class="code"><div>http</div></td>
                </tr>

                <tr>
                  <td>rack.version</td>
                  <td class="code"><div>[1, 2]</div></td>
                </tr>

                <tr>
                  <td>sinatra.error</td>
                  <td class="code"><div>#&lt;ArgumentError: wrong number of arguments (3 for 2)&gt;</div></td>
                </tr>

             </table>
             <div class="clear"></div>
           </div> <!-- /RACK ENV -->

           <p id="explanation">You're seeing this error because you have
       enabled the <code>show_exceptions</code> setting.</p>
         </div> <!-- /WRAP -->
         </body>
       </html>
